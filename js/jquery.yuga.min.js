(function(a){a(function(){a.yuga.externalLink();a.yuga.scroll()});a.yuga={Uri:function(b){var d=this;this.originalPath=b;this.absolutePath=function(){var a=document.createElement("a");a.href=b;return a.href}();var h={schema:2,username:5,password:6,host:7,path:9,query:10,fragment:11},g=/^((\w+):)?(\/\/)?((\w+):?(\w+)?@)?([^\/\?:]+):?(\d+)?(\/?[^\?#]+)?\??([^#]+)?#?(\w*)/.exec(this.absolutePath),f;for(f in h)this[f]=g[h[f]];this.querys={};this.query&&a.each(d.query.split("&"),function(){var a=this.split("=");
2==a.length&&(d.querys[a[0]]=a[1])})},externalLink:function(b){var b=a.extend({windowOpen:!0,externalClass:"externalLink",addIconSrc:"",noexternalLink:"js_yuga_externalLink"},b),d=new a.yuga.Uri(location.href),d=a('a[href^="http://"]').not('a[href^="'+d.schema+"://"+d.host+'/"]').not("a."+b.noexternalLink);b.windowOpen&&d.click(function(){window.open(this.href,"_blank");return!1});b.addIconSrc&&d.not(":has(img)").after(a('<img src="'+b.addIconSrc+'" class="externalIcon" />'));d.addClass(b.externalClass)},
scroll:function(b){var b=a.extend({noscrollClass:"js_yuga_noscroll"},b),d=function(){function d(){if(c.stepCount==e.step)location.href=c.hrefdata.absolutePath,window.scrollTo(document.body.scrollLeft||document.documentElement.scrollLeft,c.endY);else if(c.lastY==g())c.stepCount++,window.scrollTo(document.body.scrollLeft||document.documentElement.scrollLeft,f()),c.lastY=f(),i=setTimeout(d,e.ms);else if(g()+(!a.browser.safari&&!a.browser.opera?document.documentElement.clientHeight||document.body.clientHeight||
document.body.scrollHeight:window.innerHeight)==(document.documentElement.scrollHeight||document.body.scrollHeight))location.href=c.hrefdata.absolutePath}function g(){return document.body.scrollTop||document.documentElement.scrollTop}function f(){return Math.floor(j(c.startY,c.endY,c.stepCount,e.step,e.easing))}function j(a,b,c,d,h){c/=d;return(b-a)*(c+h/(100*Math.PI)*Math.sin(Math.PI*c))+a}var e=a.extend({easing:100,step:30,fps:60,fragment:""},b);e.ms=Math.floor(1E3/e.fps);var i,c={stepCount:0,startY:0,
endY:0,lastY:0};return{set:function(b){this.stop();void 0==b.startY&&(b.startY=g());c=a.extend(c,b);c.lastY=c.startY;i=setTimeout(d,e.ms)},stop:function(){clearTimeout(i);c.stepCount=0}}}();a("a[href^=#], area[href^=#]").not("a[href=#], area[href=#], a."+b.noscrollClass+", area."+b.noscrollClass).each(function(){this.hrefdata=new a.yuga.Uri(this.getAttribute("href"))}).click(function(){var b=a("#"+this.hrefdata.fragment);0==b.length&&(b=a("a[name="+this.hrefdata.fragment+"]"));if(b.length)return d.set({endY:b.offset().top,
hrefdata:this.hrefdata}),!1})}}})(jQuery);
