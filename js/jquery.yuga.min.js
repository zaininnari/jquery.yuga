(function(a){a(function(){a.yuga.selflink();a.yuga.rollover();a.yuga.externalLink();a.yuga.thickbox();a.yuga.scroll();a.yuga.tab();a.yuga.stripe();a.yuga.css3class()});a.yuga={Uri:function(b){var c=this;this.originalPath=b;this.absolutePath=function(){var a=document.createElement("a");a.href=b;return a.href}();var e={schema:2,username:5,password:6,host:7,path:9,query:10,fragment:11},f=/^((\w+):)?(\/\/)?((\w+):?(\w+)?@)?([^\/\?:]+):?(\d+)?(\/?[^\?#]+)?\??([^#]+)?#?(\w*)/.exec(this.absolutePath),g;
for(g in e)this[g]=f[e[g]];this.querys={};this.query&&a.each(c.query.split("&"),function(){var a=this.split("=");2==a.length&&(c.querys[a[0]]=a[1])})},selflink:function(b){var c=a.extend({selfLinkAreaSelector:"body",selfLinkClass:"current",parentsLinkClass:"parentsLink",postfix:"_cr",changeImgSelf:!0,changeImgParents:!0},b);a(c.selfLinkAreaSelector+(c.selfLinkAreaSelector?" ":"")+"a[href]").each(function(){var e=new a.yuga.Uri(this.getAttribute("href")),b=!1;e.absolutePath==location.href&&!e.fragment?
(a(this).addClass(c.selfLinkClass),b=c.changeImgSelf):0<=location.href.search(e.absolutePath)&&(a(this).addClass(c.parentsLinkClass),b=c.changeImgParents);b&&a(this).find("img").each(function(){this.originalSrc=a(this).prop("src");this.currentSrc=this.originalSrc.replace(RegExp("("+c.postfix+")?(.gif|.jpg|.png)$"),c.postfix+"$2");a(this).prop("src",this.currentSrc)})})},rollover:function(b){function c(){return Boolean(this.rolloverSrc)}var e=a.extend({hoverSelector:".btn, .allbtn img",groupSelector:".btngroup",
postfix:"_on"},b),b=a(e.hoverSelector).filter(function(){return Boolean(!this.currentSrc)});b.each(function(){this.originalSrc=a(this).prop("src");this.rolloverSrc=this.originalSrc.replace(RegExp("("+e.postfix+")?(.gif|.jpg|.png)$"),e.postfix+"$2");this.rolloverImg=new Image;this.rolloverImg.src=this.rolloverSrc});var f=a(e.groupSelector).find("img").filter(c);b.not(f).hover(function(){a(this).prop("src",this.rolloverSrc)},function(){a(this).prop("src",this.originalSrc)});a(e.groupSelector).hover(function(){a(this).find("img").filter(c).each(function(){a(this).prop("src",
this.rolloverSrc)})},function(){a(this).find("img").filter(c).each(function(){a(this).prop("src",this.originalSrc)})})},externalLink:function(b){var b=a.extend({windowOpen:!0,externalClass:"externalLink",addIconSrc:""},b),c=new a.yuga.Uri(location.href),c=a('a[href^="http://"]').not('a[href^="'+c.schema+"://"+c.host+'/"]');b.windowOpen&&c.click(function(){window.open(this.href,"_blank");return!1});b.addIconSrc&&c.not(":has(img)").after(a('<img src="'+b.addIconSrc+'" class="externalIcon" />'));c.addClass(b.externalClass)},
thickbox:function(){try{tb_init('a[href$=".jpg"]:not(.thickbox, a[href*="?"]), a[href$=".gif"][href!="?"]:not(.thickbox, a[href*="?"]), a[href$=".png"][href!="?"]:not(.thickbox, a[href*="?"])')}catch(a){}},scroll:function(b){var c=function(){function c(){if(d.stepCount==h.step)location.href=d.hrefdata.absolutePath,window.scrollTo(document.body.scrollLeft||document.documentElement.scrollLeft,d.endY);else if(d.lastY==f())d.stepCount++,window.scrollTo(document.body.scrollLeft||document.documentElement.scrollLeft,
g()),d.lastY=g(),i=setTimeout(c,h.ms);else if(f()+(!a.browser.safari&&!a.browser.opera?document.documentElement.clientHeight||document.body.clientHeight||document.body.scrollHeight:window.innerHeight)==(document.documentElement.scrollHeight||document.body.scrollHeight))location.href=d.hrefdata.absolutePath}function f(){return document.body.scrollTop||document.documentElement.scrollTop}function g(){return Math.floor(j(d.startY,d.endY,d.stepCount,h.step,h.easing))}function j(a,c,b,e,d){b/=e;return(c-
a)*(b+d/(100*Math.PI)*Math.sin(Math.PI*b))+a}var h=a.extend({easing:100,step:30,fps:60,fragment:""},b);h.ms=Math.floor(1E3/h.fps);var i,d={stepCount:0,startY:0,endY:0,lastY:0};return{set:function(b){this.stop();void 0==b.startY&&(b.startY=f());d=a.extend(d,b);d.lastY=d.startY;i=setTimeout(c,h.ms)},stop:function(){clearTimeout(i);d.stepCount=0}}}();a("a[href^=#], area[href^=#]").not("a[href=#], area[href=#]").each(function(){this.hrefdata=new a.yuga.Uri(this.getAttribute("href"))}).click(function(){var b=
a("#"+this.hrefdata.fragment);0==b.length&&(b=a("a[name="+this.hrefdata.fragment+"]"));if(b.length)return c.set({endY:b.offset().top,hrefdata:this.hrefdata}),!1})},tab:function(b){var c=a.extend({tabNavSelector:".tabNav",activeTabClass:"active"},b);a(c.tabNavSelector).each(function(){var b=a(this).find("a[href^=#], area[href^=#]"),f;b.each(function(){this.hrefdata=new a.yuga.Uri(this.getAttribute("href"));var g="#"+this.hrefdata.fragment;f=f?f.add(g):a(g);a(this).unbind("click");a(this).click(function(){b.removeClass(c.activeTabClass);
a(this).addClass(c.activeTabClass);f.hide();a(g).show();return!1})});f.hide();b.filter(":first").trigger("click")})},stripe:function(b){var c=a.extend({oddClass:"odd",evenClass:"even"},b);a("ul, ol").each(function(){a(this).children("li:odd").addClass(c.evenClass);a(this).children("li:even").addClass(c.oddClass)});a("table, tbody").each(function(){a(this).children("tr:odd").addClass(c.evenClass);a(this).children("tr:even").addClass(c.oddClass)})},css3class:function(){a("body :first-child").addClass("firstChild");
a("body :last-child").addClass("lastChild");a("body :empty").addClass("empty")}}})(jQuery);
